package com.BridgeLabz.ObjectOrientedPrograms;

import java.io.File;
import java.util.Map;


import com.fasterxml.jackson.core.type.TypeReference;
import com.fasterxml.jackson.databind.ObjectMapper;

public class InventoryManagementProgram {

	public static void main(String[] args) throws Exception {
		 String path = "/home/user/eclipse-workspace/com.BridgeLabz.OOP/src/main/java/com/BridgeLabz/ObjectOrientedPrograms/InventoryDataManagement.json";
		Inventory inventory[] = new Inventory[5];
		Inventory inventorys;
		int TotalCost[] = new int[5];
		 for(int i=0;i<5;i++)
			{
				inventorys = readJson(path,inventory[i].getName());
				TotalCost[i] = inventorys.getPricePerKg()*inventorys.getWeight();
			}
			System.out.println("inventory Name\tTotal Price");
			int TotalSharePrice=0;
			// adding individual cost to get total share price of all companies and printing output
			for(int i=0;i<5;i++)
			{
				System.out.println(inventory[i].getName()+"\t\t\t"+TotalCost[i]);
				TotalSharePrice += TotalCost[i];
			}
			System.out.println("Total Share Price = Rs."+TotalSharePrice);
	}
	public static Inventory readJson(String path,String key) throws Exception
	{
		ObjectMapper mapper = new ObjectMapper();
		Map<String,Inventory> read = mapper.readValue(new File(path),new TypeReference<Map<String,Inventory>>() {
		}) ;
		Inventory object = (Inventory)(read.get(key));
		return object;
	}

}
